-------------------------------------------------------------------------------
Test set: dev.danvega.notion.integration.NotionIntegrationTest
-------------------------------------------------------------------------------
Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.230 s <<< FAILURE! -- in dev.danvega.notion.integration.NotionIntegrationTest
dev.danvega.notion.integration.NotionIntegrationTest.shouldQueryDatabase -- Time elapsed: 0.016 s <<< ERROR!
org.springframework.web.client.RestClientException: Error while extracting response for type [java.lang.String] and content type [application/json]
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:261)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:814)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.lambda$body$0(DefaultRestClient.java:745)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:574)
	at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:535)
	at org.springframework.web.client.RestClient$RequestHeadersSpec.exchange(RestClient.java:677)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.executeAndExtract(DefaultRestClient.java:809)
	at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:745)
	at dev.danvega.notion.client.NotionClient.post(NotionClient.java:160)
	at dev.danvega.notion.service.NotionDatabaseService.queryDatabase(NotionDatabaseService.java:93)
	at dev.danvega.notion.integration.NotionTestService.queryDatabase(NotionTestService.java:49)
	at dev.danvega.notion.integration.NotionIntegrationTest.shouldQueryDatabase(NotionIntegrationTest.java:131)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
Caused by: java.io.IOException: closed
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.current(ResponseSubscribers.java:448)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.read(ResponseSubscribers.java:523)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:71)
	at java.base/java.io.PushbackInputStream.read(PushbackInputStream.java:150)
	at org.springframework.web.client.IntrospectingClientHttpResponse.hasEmptyMessageBody(IntrospectingClientHttpResponse.java:100)
	at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:218)
	... 14 more
Caused by: java.io.IOException: /127.0.0.1:55628: GOAWAY received
	at java.net.http/jdk.internal.net.http.Http2Connection.handleGoAway(Http2Connection.java:1374)
	at java.net.http/jdk.internal.net.http.Http2Connection.handleConnectionFrame(Http2Connection.java:1182)
	at java.net.http/jdk.internal.net.http.Http2Connection.processFrame(Http2Connection.java:944)
	at java.net.http/jdk.internal.net.http.frame.FramesDecoder.decode(FramesDecoder.java:155)
	at java.net.http/jdk.internal.net.http.Http2Connection$FramesController.processReceivedData(Http2Connection.java:316)
	at java.net.http/jdk.internal.net.http.Http2Connection.asyncReceive(Http2Connection.java:865)
	at java.net.http/jdk.internal.net.http.Http2Connection$Http2TubeSubscriber.processQueue(Http2Connection.java:1769)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:182)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:280)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:233)
	at java.net.http/jdk.internal.net.http.Http2Connection$Http2TubeSubscriber.runOrSchedule(Http2Connection.java:1786)
	at java.net.http/jdk.internal.net.http.Http2Connection$Http2TubeSubscriber.onNext(Http2Connection.java:1813)
	at java.net.http/jdk.internal.net.http.Http2Connection.sendConnectionPreface(Http2Connection.java:1446)
	at java.net.http/jdk.internal.net.http.Http2Connection.<init>(Http2Connection.java:498)
	at java.net.http/jdk.internal.net.http.Http2Connection.lambda$createAsync$0(Http2Connection.java:515)
	at java.net.http/jdk.internal.net.http.common.MinimalFuture.supply(MinimalFuture.java:65)
	at java.net.http/jdk.internal.net.http.Http2Connection.createAsync(Http2Connection.java:514)
	at java.net.http/jdk.internal.net.http.Exchange.lambda$checkForUpgradeAsync$14(Exchange.java:655)
	at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1231)
	at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2385)
	at java.net.http/jdk.internal.net.http.Exchange.checkForUpgradeAsync(Exchange.java:649)
	at java.net.http/jdk.internal.net.http.Exchange.lambda$wrapForUpgrade$10(Exchange.java:591)
	at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1194)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:554)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1817)
	at java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:178)
	at java.base/java.util.concurrent.CompletableFuture.completeAsync(CompletableFuture.java:2763)
	at java.net.http/jdk.internal.net.http.Http1Exchange.getOutgoing(Http1Exchange.java:705)
	at java.net.http/jdk.internal.net.http.Http1Exchange$Http1Publisher$WriteTask.run(Http1Exchange.java:820)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:182)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:280)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:233)
	at java.net.http/jdk.internal.net.http.Http1Exchange.appendToOutgoing(Http1Exchange.java:637)
	at java.net.http/jdk.internal.net.http.Http1Exchange.appendToOutgoing(Http1Exchange.java:631)
	at java.net.http/jdk.internal.net.http.Http1Request$StreamSubscriber.onComplete(Http1Request.java:394)
	at org.springframework.http.client.OutputStreamPublisher$OutputStreamSubscription.invokeHandler(OutputStreamPublisher.java:242)
	at java.base/java.lang.Thread.run(Thread.java:1575)

